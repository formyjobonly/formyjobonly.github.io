parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"gBHI":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.logWithPrefix=n,exports.applyStyle=l,exports.addStyleElement=exports.log=void 0;var e=function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var l=arguments[e],f=0,u=l.length;f<u;f++,r++)n[r]=l[f];return n},o=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return""};function n(t){return o.bind(null,null!=t?t:"")}exports.log=o;var r=function(e,o){var n=parseInt(e);return isNaN(n)&&void 0!==o&&"object"!==t(o)&&"function"!=typeof o&&"string"==typeof o&&o.length>0&&("number"!=typeof o||o!=parseInt(o))};function l(t,e){for(var o in t)r(o,t[o])&&(e.style[o]=t[o])}var f=function(t){document.head.insertAdjacentHTML("beforeend","<style>"+t+"</style>")};exports.addStyleElement=f;
},{}],"wdkf":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.PreorderStatus=void 0,exports.PreorderStatus=e,function(e){e.Enabled="enabled",e.Disabled="disabled"}(e||(exports.PreorderStatus=e={}));
},{}],"WGtv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.APP_BOSS_NAME=void 0;var e="APPBOSSAPPS";exports.APP_BOSS_NAME=e;
},{}],"ddFk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PreorderError=void 0;var r=require("~common/constants"),t=function(){var r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o])})(t,o)};return function(t,o){function e(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),o=function(o){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var c=o.apply(this,t)||this;return Error.captureStackTrace&&Error.captureStackTrace(c,e),c.name=r.APP_BOSS_NAME+" PreorderError",c}return t(e,o),e}(Error);exports.PreorderError=o;
},{"~common/constants":"WGtv"}],"rn02":[function(require,module,exports) {
function t(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}module.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var i=this._timeouts.shift();if(void 0===i){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),i=this._timeouts.shift()}var o=this,r=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},i);return this._options.unref&&r.unref(),!0},t.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var i=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){i._operationTimeoutCb()},i._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},t.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,i=0,o=0;o<this._errors.length;o++){var r=this._errors[o],s=r.message,n=(t[s]||0)+1;t[s]=n,n>=i&&(e=r,i=n)}return e};
},{}],"QoWz":[function(require,module,exports) {
var r=require("./retry_operation");exports.operation=function(t){var e=exports.timeouts(t);return new r(e,{forever:t&&t.forever,unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},exports.timeouts=function(r){if(r instanceof Array)return[].concat(r);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var e in r)t[e]=r[e];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],n=0;n<t.retries;n++)o.push(this.createTimeout(n,t));return r&&r.forever&&!o.length&&o.push(this.createTimeout(n,t)),o.sort(function(r,t){return r-t}),o},exports.createTimeout=function(r,t){var e=t.randomize?Math.random()+1:1,o=Math.round(e*t.minTimeout*Math.pow(t.factor,r));return o=Math.min(o,t.maxTimeout)},exports.wrap=function(r,t,e){if(t instanceof Array&&(e=t,t=null),!e)for(var o in e=[],r)"function"==typeof r[o]&&e.push(o);for(var n=0;n<e.length;n++){var i=e[n],a=r[i];r[i]=function(e){var o=exports.operation(t),n=Array.prototype.slice.call(arguments,1),i=n.pop();n.push(function(r){o.retry(r)||(r&&(arguments[0]=o.mainError()),i.apply(this,arguments))}),o.attempt(function(){e.apply(r,n)})}.bind(r,a),r[i].options=t}};
},{"./retry_operation":"rn02"}],"VnIQ":[function(require,module,exports) {
module.exports=require("./lib/retry");
},{"./lib/retry":"QoWz"}],"hCkR":[function(require,module,exports) {
"use strict";function t(t,r,e,n,o,u,c){try{var i=t[u](c),a=i.value}catch(f){return void e(f)}i.done?r(a):Promise.resolve(a).then(n,o)}function r(r){return function(){var e=this,n=arguments;return new Promise(function(o,u){var c=r.apply(e,n);function i(r){t(c,o,u,i,a,"next",r)}function a(r){t(c,o,u,i,a,"throw",r)}i(void 0)})}}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function o(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&l(t,r)}function u(t){var r=s();return function(){var e,n=y(t);if(r){var o=y(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return c(this,e)}}function c(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?i(t):r}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){var r="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||!p(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return f(t,arguments,y(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),l(e,t)})(t)}function f(t,r,e){return(f=s()?Reflect.construct:function(t,r,e){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(t,n));return e&&l(o,e.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function l(t,r){return(l=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=require("retry"),h=function(t){o(e,a(Error));var r=u(e);function e(t){var o;(n(this,e),o=r.call(this),t instanceof Error)?(o.originalError=t,t=t.message):(o.originalError=new Error(t),o.originalError.stack=o.stack);return o.name="AbortError",o.message=t,o}return e}(),v=function(t,r,e){var n=e.retries-(r-1);return t.attemptNumber=r,t.retriesLeft=n,t},m=function(t,e){return new Promise(function(n,o){e={onFailedAttempt:function(){},retries:10,...e};var u=b.operation(e);u.attempt(function(){var c=r(regeneratorRuntime.mark(function r(c){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.t0=n,r.next=4,t(c);case 4:r.t1=r.sent,(0,r.t0)(r.t1),r.next=34;break;case 8:if(r.prev=8,r.t2=r.catch(0),r.t2 instanceof Error){r.next=13;break}return o(new TypeError('Non-error was thrown: "'.concat(r.t2,'". You should only throw errors.'))),r.abrupt("return");case 13:if(!(r.t2 instanceof h)){r.next=18;break}u.stop(),o(r.t2.originalError),r.next=34;break;case 18:if(!(r.t2 instanceof TypeError)){r.next=23;break}u.stop(),o(r.t2),r.next=34;break;case 23:return v(r.t2,c,e),r.prev=24,r.next=27,e.onFailedAttempt(r.t2);case 27:r.next=33;break;case 29:return r.prev=29,r.t3=r.catch(24),o(r.t3),r.abrupt("return");case 33:u.retry(r.t2)||o(u.mainError());case 34:case"end":return r.stop()}},r,null,[[0,8],[24,29]])}));return function(t){return c.apply(this,arguments)}}())})};module.exports=m,module.exports.default=m,module.exports.AbortError=h;
},{"retry":"VnIQ"}],"HNg6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchJsonBase=u,exports.fetchJson=s;var e=r(require("p-retry")),t=require("./common"),n=require("./errors");function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{a(r.next(e))}catch(t){i(t)}}function s(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,s)}a((r=r.apply(e,t||[])).next())})},i=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function u(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return fetch.apply(void 0,t).then(function(t){return o(e,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return e={status:t.status},[4,t.json()];case 1:return[2,(e.json=n.sent(),e)]}})})})}function s(r,s){return o(this,void 0,void 0,function(){var a,c,l,f,h=this;return i(this,function(p){return a="",l=(0,t.logWithPrefix)("fetchJson:: "),"string"==typeof r?a=r:(a=r.input,c=r.init),f=function(){return o(h,void 0,void 0,function(){var t,o,s,f;return i(this,function(i){switch(i.label){case 0:return[4,u(a,c)];case 1:if(t=i.sent(),o=t.json,s=t.status,l("response:: ","status:",s," json: ",o),[410,404].includes(s))throw new e.default.AbortError(null===(f=o)||void 0===f?void 0:f.message);if(200!==s)throw new n.PreorderError("retries failed on "+r);return[2,o]}})})},[2,(0,e.default)(f,s)]})})}
},{"p-retry":"hCkR","./common":"gBHI","./errors":"ddFk"}],"dGv9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectors=void 0;var t={product:{button:["#AddToCart",'form[action="/cart/add"] [type=submit]','[data-shopify="payment-button"]'],form:'form[action="/cart/add"]'},collection:{selector:'form[action="/cart/add"] [type=submit]'},index:{selector:'form[action="/cart/add"] [type=submit]'},quickview:{selector:'form[action="/cart/add"] [type=submit]'}};exports.selectors=t;
},{}],"JPbd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStylesString=exports.validateFont=exports.fontRange=void 0;var t={min:10,max:50};exports.fontRange=t;var e=function(e){var r=Number(e);return isNaN(r)?r=t.min:r<t.min?r=t.min:r>t.max&&(r=t.max),r.toString()};exports.validateFont=e;var r=function(t){if(!t)return"";t.color;var r=t.background_color,o=(t.border_color,t.font_family,t.font_size,t.font_weight,t.text_decoration,t.font_style,t.border_radius,t.border_width,"");return Object.keys(t).forEach(function(r){var n=r.replace("_","-"),i=t[r];"font-size"===n&&(i=e(t.font_size.slice(0,-2))+"px"),o+=n+": "+i+"; "}),o+="border-color: "+r};exports.getStylesString=r;
},{}],"L4Lo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fonts=exports.fontsValues=void 0;var e=[{label:"Theme Default",value:"inherit"},{label:"Arial",value:"Arial, sans-serif"},{label:"Geneva",value:"Geneva, Tahoma, sans-serif"},{label:"Georgia",value:"Georgia, serif"},{label:"Times",value:"Times, Times New Roman, serif"},{label:"Verdana",value:"Verdana, sans-serif"}];exports.fontsValues=e;var a=e;exports.fonts=a;var s=["preorder","checkout"],r=["button","hover","message"],l=["current","default"];
},{}],"rIOr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./design-settings");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}})});var t=require("./types");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});
},{"./design-settings":"JPbd","./types":"L4Lo"}],"O8GB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./design-settings");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}})});
},{"./design-settings":"rIOr"}],"CabZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n="\n        .pre-order-button-box button {\n          cursor: pointer; }\n\n        .pre-order-button-box {\n          display: inline-block;\n          width: auto; }\n          .pre-order-button-box button {\n            padding: 0;\n            border: none;\n            color: inherit;\n            background-color: transparent; }\n            .pre-order-button-box button .pre-order-button__self,\n            .pre-order-button-box button .pre-order-button__hover {\n              border-style: outset; }\n            .pre-order-button-box button:hover .pre-order-button__self {\n              display: none; }\n            .pre-order-button-box button:hover .pre-order-button__hover {\n              display: inline-block; }\n            .pre-order-button-box button:hover + .pre-order-button__message {\n              display: inline-block;\n              margin-right: -100%;\n              opacity: 1;\n              height: auto;\n              padding: 7px;\n              border-width: 1px; }\n          .pre-order-button-box__hover {\n            width: auto;\n            position: relative; }\n          .pre-order-button-box .pre-order-button__message {\n            position: absolute;\n            background-color: khaki;\n            text-align: center;\n            padding: 7px;\n            border-style: solid;\n            box-sizing: content-box;\n            z-index: 999;\n            line-height: 1.6;\n            display: block;\n            overflow: hidden;\n            background-color: #f4f4f4;\n            border-radius: 10px;\n            border-color: #d7d7d7;\n            border-width: 1px;\n            opacity: 0;\n            transition: opacity 0.5s;\n            height: 0;\n            padding: 0;\n            border-width: 0; }\n          .pre-order-button-box .pre-order-button__self {\n            display: block; }\n          .pre-order-button-box .pre-order-button__hover {\n            display: none; }\n          .pre-order-button-box__top {\n            flex-direction: column-reverse;\n            align-items: center; }\n            .pre-order-button-box__top .pre-order-button__message {\n              bottom: 120%;\n              left: 50%;\n              transform: translateX(-50%); }\n              \n    .Polaris-Spinner--colorTeal svg {\n        animation: Polaris-Spinner--loading .5s linear infinite;\n        fill: var(--p-border-highlight,#47c1bf);\n    }\n    \n    .Polaris-Spinner--sizeLarge svg {\n        height: 2.4rem;\n        width: 2.4rem;\n    }\n    \n    @keyframes Polaris-Spinner--loading{to{transform:rotate(1turn)}}\n  ",o=n;exports.default=o;
},{}],"DI8H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PreorderButton=void 0;var e=require("~../../../libs/utils"),t=require("~utils/common/common"),n=r(require("./preorderStyle"));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function r(e,r,s){void 0===r&&(r="{{PreOrderText}}"),void 0===s&&(s="{{PreOrderMessage}}"),this.settings=e,this.text=r,this.message=s,this.getPreorderButtonHtml=function(e,t,n,r){return'<div class="pre-order-button-box pre-order-button-box__hover pre-order-button-box__top">\n                <button\n                    type="submit"\n                >\n                    <span\n                        class="pre-order-button__self"\n                        style="'+n+'"\n                    >\n                        '+e+'\n                    </span>\n                    <span\n                        class="pre-order-button__hover"\n                        style="'+r+'"\n                    >\n                        '+e+'\n                    </span>\n                </button>\n                <span class="pre-order-button__message">\n                    '+t+"\n                </span>\n            </div>"},(0,t.addStyleElement)(n.default),this.render(),this.hide()}return r.prototype.render=function(){var e=document.createElement("div"),t=this.getStyles(),n=t.buttonStyle,r=t.hoverStyle;e.insertAdjacentHTML("beforeend",this.getPreorderButtonHtml(this.text,this.message,n,r)),this.element=e.firstElementChild,this.buttonElement=this.element.querySelector(".pre-order-button__self"),this.hoverElement=this.element.querySelector(".pre-order-button__hover"),this.messageElement=this.element.querySelector(".pre-order-button__message")},r.prototype.setSettings=function(e){this.settings=e;var t=this.getStyles(),n=t.buttonStyle,r=t.hoverStyle;this.buttonElement.setAttribute("style",n),this.hoverElement.setAttribute("style",r)},r.prototype.setText=function(e){this.text=e,this.buttonElement.innerText=e,this.hoverElement.innerText=e},r.prototype.setMessage=function(e){this.message=e,this.messageElement.innerText=e},r.prototype.getStyles=function(){var t,n;return{buttonStyle:(0,e.getStylesString)(null===(t=this.settings)||void 0===t?void 0:t.button),hoverStyle:(0,e.getStylesString)(null===(n=this.settings)||void 0===n?void 0:n.hover)}},r.prototype.hide=function(){this.element.style.display="none"},r.prototype.display=function(){this.element.style.display="inline-block"},r}();exports.PreorderButton=s;
},{"~../../../libs/utils":"O8GB","~utils/common/common":"gBHI","./preorderStyle":"CabZ"}],"p12U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PreorderSpinner=void 0;var e=require("~utils/common/common"),t=n(require("./preorderStyle"));function n(e){return e&&e.__esModule?e:{default:e}}var r=function(){function n(n,r,i){void 0===r&&(r="{{PreOrderText}}"),void 0===i&&(i="{{PreOrderMessage}}"),this.settings=n,this.text=r,this.message=i,this.getSpinnerHtml=function(){return'<span class="Polaris-Spinner Polaris-Spinner--colorTeal Polaris-Spinner--sizeLarge">\n            <svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg">\n                <path d="M15.542 1.487A21.507 21.507 0 00.5 22c0 11.874 9.626 21.5 21.5 21.5 9.847 0 18.364-6.675 20.809-16.072a1.5 1.5 0 00-2.904-.756C37.803 34.755 30.473 40.5 22 40.5 11.783 40.5 3.5 32.217 3.5 22c0-8.137 5.3-15.247 12.942-17.65a1.5 1.5 0 10-.9-2.863z">\n                </path>\n            </svg>\n        </span>'},(0,e.addStyleElement)(t.default),this.render(),this.hide()}return n.prototype.render=function(){var e=document.createElement("div");e.insertAdjacentHTML("beforeend",this.getSpinnerHtml()),this.element=e.firstElementChild},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.display=function(){this.element.style.display="inline-block"},n}();exports.PreorderSpinner=r;
},{"~utils/common/common":"gBHI","./preorderStyle":"CabZ"}],"im5G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductForm=void 0;var e=require("~common/constants/selectors"),t=require("./PreorderButton"),n=require("./PreorderSpinner"),o=function(){function o(){this.selectElement=null,this.displayOriginValue="block",this.themesButtons={items:new Set,visible:!1},this.settings=null,this.spinner=null,this.element=document.querySelector(e.selectors.product.form),this.element&&(this.displayOriginValue=window.getComputedStyle(this.element).display),this.preorderButton=new t.PreorderButton,this.setThemesButtons()}return o.prototype.onClick=function(e){this.element&&this.element.addEventListener("click",e)},o.prototype.setThemesButtons=function(){var t=this;null!==this.element&&e.selectors.product.button.forEach(function(e){var n,o=null===(n=t.element)||void 0===n?void 0:n.querySelector(e);o&&t.themesButtons.items.add({ref:o,style:window.getComputedStyle(o).display})})},Object.defineProperty(o.prototype,"isExist",{get:function(){return Boolean(this.element)},enumerable:!0,configurable:!0}),o.prototype.appendPreorderButton=function(){var e;null===(e=this.element)||void 0===e||e.append(this.preorderButton.element)},o.prototype.displayPreorderButton=function(){this.preorderButton.display()},o.prototype.showThemesButtons=function(){this.themesButtons.items.forEach(function(e){e.ref.style.display=e.style}),this.themesButtons.visible=!0},o.prototype.hideThemesButtons=function(){this.themesButtons.items.forEach(function(e){e.ref.style.display="none"}),this.themesButtons.visible=!1},o.prototype.showSpinner=function(){var e;this.spinner=new n.PreorderSpinner,null===(e=this.element)||void 0===e||e.append(this.spinner.element),this.spinner.display()},o.prototype.hideSpinner=function(){var e,t,n;null===(t=null===(e=this.spinner)||void 0===e?void 0:e.element.parentElement)||void 0===t||t.removeChild(null===(n=this.spinner)||void 0===n?void 0:n.element)},o.prototype.setPreorderButtonSettings=function(e){this.settings=e,this.preorderButton.setSettings(e.design_settings),this.preorderButton.setText(e.text),this.preorderButton.setMessage(e.message)},o}();exports.ProductForm=o;
},{"~common/constants/selectors":"dGv9","./PreorderButton":"DI8H","./PreorderSpinner":"p12U"}],"XM3R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductPageController=void 0;var t=require("~common/types"),r=require("~utils/common/errors"),e=require("~utils/common/fetch"),n=require("./ProductForm"),o=function(){return(o=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},i=function(t,r,e,n){return new(e||(e=Promise))(function(o,i){function s(t){try{c(n.next(t))}catch(r){i(r)}}function u(t){try{c(n.throw(t))}catch(r){i(r)}}function c(t){var r;t.done?o(t.value):(r=t.value,r instanceof e?r:new e(function(t){t(r)})).then(s,u)}c((n=n.apply(t,r||[])).next())})},s=function(t,r){var e,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(u){i=[6,u],n=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},u=function(){function u(t,r){var e=this;this.log=t,this.preorderApi=r,this.product=null,this.settings=null,this.log=t.bind(null,u.name,":: "),this.init().catch(function(t){return e.log("Init Error:: ",t)})}return u.prototype.init=function(){var e;return i(this,void 0,void 0,function(){var o,i,u=this;return s(this,function(s){switch(s.label){case 0:if(this.productForm=new n.ProductForm,!this.productForm.isExist)return[3,6];this.log("product form is on the page"),this.productForm.hideThemesButtons(),this.productForm.onClick(function(){u.productForm.themesButtons.visible||u.productForm.hideThemesButtons()}),window.addEventListener("popstate",function(t){console.log("window.addEventListener(popstate XXX",t)}),s.label=1;case 1:return s.trys.push([1,4,,5]),this.productForm.showSpinner(),[4,this.loadProduct()];case 2:return s.sent(),[4,this.loadSettings()];case 3:return s.sent(),this.productForm.hideSpinner(),(null===(e=this.settings)||void 0===e?void 0:e.variant.preorder_status)===t.PreorderStatus.Enabled?(this.productForm.appendPreorderButton(),this.productForm.displayPreorderButton()):this.productForm.showThemesButtons(),[3,5];case 4:return o=s.sent(),this.productForm.hideSpinner(),console.error("LOAD ERROR",o),this.productForm.showThemesButtons(),[3,5];case 5:return[3,7];case 6:throw i=this.log("product form is not on the page"),new r.PreorderError(i);case 7:return[2]}})})},u.prototype.loadProduct=function(){return i(this,void 0,void 0,function(){var t,r;return s(this,function(n){switch(n.label){case 0:return t=window.location.pathname.split("/").pop(),[4,(0,e.fetchJson)(t+".js",{retries:3})];case 1:return r=n.sent(),this.log("AjaxApi:: product",r),this.product=r,[2]}})})},u.prototype.loadSettings=function(){var t,r,n,u,c,a;return i(this,void 0,void 0,function(){var l,d,h=this;return s(this,function(p){switch(p.label){case 0:return l={onFailedAttempt:function(t){return i(h,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,Promise.resolve(this.log("AjaxApi:: settings error",t))];case 1:return r.sent(),[2]}})})},retries:3},null!==this.product?[3,2]:[4,Promise.resolve(null)];case 1:return[2,p.sent()];case 2:return[4,(0,e.fetchJson)(this.preorderApi.url+"/storefront/products/settings?shop="+encodeURIComponent(Shopify.shop)+"&variant_id="+this.product.variants[0].id,l)];case 3:return d=p.sent(),this.log("AjaxApi:: settings",d),this.productForm.setPreorderButtonSettings({text:(r=null===(t=d)||void 0===t?void 0:t.button.text,null!=r?r:""),message:(u=null===(n=d)||void 0===n?void 0:n.button.message,null!=u?u:""),design_settings:null===(c=d)||void 0===c?void 0:c.button.design_settings.current.preorder}),this.settings=o(o({},this.settings),{variant:null===(a=d)||void 0===a?void 0:a.variant}),[2]}})})},u}();exports.ProductPageController=u;
},{"~common/types":"wdkf","~utils/common/errors":"ddFk","~utils/common/fetch":"HNg6","./ProductForm":"im5G"}],"r3F1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e;var t=require("../utils/common/common"),r=require("./ProductPageController"),o=function(t,r,o,n){return new(o||(o=Promise))(function(a,e){function c(t){try{u(n.next(t))}catch(r){e(r)}}function i(t){try{u(n.throw(t))}catch(r){e(r)}}function u(t){var r;t.done?a(t.value):(r=t.value,r instanceof o?r:new o(function(t){t(r)})).then(c,i)}u((n=n.apply(t,r||[])).next())})},n=function(t,r){var o,n,a,e,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function i(e){return function(i){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(a=2&e[0]?n.return:e[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,e[1])).done)return a;switch(n=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,n=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){c.label=e[1];break}if(6===e[0]&&c.label<a[1]){c.label=a[1],a=e;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(e);break}a[2]&&c.ops.pop(),c.trys.pop();continue}e=r.call(t,c)}catch(i){e=[6,i],n=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,i])}}},a=['form[action="/cart/add"] [type="submit"]','form[action="/cart/add"] #addToCartCopy',"form .tt-btn.tt-btn--cart",'form[action="/cart/add"] [type="submit"].bold_clone','form[action="/cart/add"] .btn-addtocart','form[action="/cart/add"] button[data-product-add]','form[action="/cart/add"] .ProductForm__AddToCart','form[action="/cart/add"] #add','form[action^="/cart/add"] [type="submit"]','form[action="/cart/add"] .product-form-inline-atc-button','form[action="/cart/add"] #add-to-cart','form[action="/cart/add"] [name="add"]','form[action="/cart/add"] #product-add-to-cart'];function e(a){return o(this,void 0,void 0,function(){return n(this,function(o){return(0,t.logWithPrefix)("product.init():: ")("Shopify object",Shopify),new r.ProductPageController((0,t.logWithPrefix)(),a),[2]})})}
},{"../utils/common/common":"gBHI","./ProductPageController":"XM3R"}]},{},["r3F1"], null)