(this["webpackJsonpshopify-pre-order"]=this["webpackJsonpshopify-pre-order"]||[]).push([[3],{115:function(t,e,r){"use strict";r.d(e,"b",(function(){return zt}));var n={};r.r(n),r.d(n,"fetchProductsEpic",(function(){return et})),r.d(n,"fetchProductsWithQueryEpic",(function(){return rt})),r.d(n,"updateProductsAndVariantsStatusBulkEpic",(function(){return nt})),r.d(n,"setStatusEpic",(function(){return at})),r.d(n,"setStatusSuccessEpic",(function(){return it})),r.d(n,"setSettingsEpic",(function(){return ot})),r.d(n,"fetchProductsSettingsEpic",(function(){return ct})),r.d(n,"bulkEnableEpic",(function(){return dt})),r.d(n,"bulkEnableSuccessEpic",(function(){return ut})),r.d(n,"refetchOnSuccessEpic",(function(){return st}));var a={};r.r(a),r.d(a,"fetchProfilesEpic",(function(){return bt})),r.d(a,"assignProfileEpic",(function(){return _t})),r.d(a,"unassignProfileEpic",(function(){return vt})),r.d(a,"updateProfileEpic",(function(){return jt})),r.d(a,"updateProfileSuccessEpic",(function(){return Ot})),r.d(a,"fetchProfileEpic",(function(){return ht})),r.d(a,"deleteProfileEpic",(function(){return mt})),r.d(a,"deleteProfileFailureEpic",(function(){return yt})),r.d(a,"deleteProfileSuccessEpic",(function(){return Pt}));var i={};r.r(i),r.d(i,"getSettingsEpic",(function(){return Et})),r.d(i,"updateSettingsEpic",(function(){return Mt}));var o={};r.r(o),r.d(o,"getSubscriptionEpic",(function(){return Tt})),r.d(o,"getActiveSubscriptionEpic",(function(){return At}));var c,d=r(47),u=r(101),s=r(7),l=r(17),p=r(38),f=new URL(window.location.href).searchParams,g={headers:{"X-Shop-Signature":f.get("hmac"),"X-Shop-Ses":f.get("session"),"X-Shop-Time":f.get("timestamp"),"X-Shop-Domain":f.get("shop"),"X-Shop-Locale":f.get("locale"),"X-Shop-lng":f.get("new_design_language")}},b=Object(p.b)({name:"auth",initialState:g,reducers:{setHeaders:function(t,e){t.headers=e.payload}}}),_=(b.actions.setHeaders,b.reducer),v=r(69),j=r(76),O=r(44),h=function(t){return Object(d.c)({router:Object(u.b)(t),app:O.a,products:s.h,profiles:l.a,auth:_,settings:v.a,subscription:j.a})},m=r(121),y=r(284),P=r(179),S=r(5),I=r(273),E=r(114),M=r(12),x=r(196);function k(t){var e=new FormData;return function t(e,r,n){!r||"object"!==typeof r||r instanceof Date||r instanceof File?e.append(n,r):Object.keys(r).forEach((function(a){t(e,r[a],n?"".concat(n,"[").concat(a,"]"):a)}))}(e,t),e}var T=r.n(x).a,A=(null===(c=__preorder_env__)||void 0===c?void 0:c.REACT_APP_API_HOST)||"https://fca25fb84b8e.ngrok.io/";if(!A)throw new Error("REACT_APP_API_HOST environment variable should be provided");A.endsWith("/")&&(A=A.slice(0,-1));var D=A+"/api",N=T.create({baseURL:D});N.interceptors.request.use((function(t){var e=Zt.getState().auth.headers;t.headers.common=Object(M.a)(Object(M.a)({},t.headers.common),e);return["POST","post","PUT","put","PATCH","patch"].includes(t.method)&&(t.data=k(t.data),t.headers["Content-Type"]="multipart/form-data"),t})),N.interceptors.response.use((function(t){return t}),(function(t){if(t.isAxiosError){var e=t.message,r=t.code,n=t.response;throw{message:e,code:r,data:null===n||void 0===n?void 0:n.data,status:null===n||void 0===n?void 0:n.status}}return t}));var w=N,F=r(6),C=[{id:"5290593779879",title:"Samsung galaxy--1",bodyHtml:"This is test product 1",totalInventory:0,images:[{id:"gid://shopify/ProductImage/17297342955687",src:"https://cdn.shopify.com/s/files/1/0402/9851/2551/products/phone1.jpg?v=1591448865"}],productType:"",vendor:"testphonestore",updatedAt:"2020-08-10T07:55:56Z",createdAt:"2020-06-06T13:07:43Z",variants:{34801873846439:{id:"34801873846439",profile_id:"123",price:"28000.00",price_shopify:"28000.00",sku:"p001",title:"black",image:null,product_id:"5290593779879",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1MjkwNTkzNzc5ODc5LCJsYXN0X3ZhbHVlIjoiNTI5MDU5Mzc3OTg3OSJ9",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null,profile_id:"123"},{id:"5290597351591",profile_id:null,title:"Huawei p30 lite",bodyHtml:"test item 2",totalInventory:66,images:[{id:"gid://shopify/ProductImage/17297352163495",src:"https://cdn.shopify.com/s/files/1/0402/9851/2551/products/phone2.jpg?v=1591448955"}],productType:"AT",vendor:"testphonestore",updatedAt:"2020-08-13T11:54:52Z",createdAt:"2020-06-06T13:09:14Z",variants:{34663159070887:{id:"34663159070887",profile_id:"124",price:"15000.00",price_shopify:"15000.00",sku:"p002",title:"red",image:null,product_id:"5290597351591",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null},34663205175463:{id:"34663205175463",profile_id:"124",price:"15000.00",price_shopify:"15000.00",sku:"p232",title:"ytllopw",image:null,product_id:"5290597351591",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null},34663205175468:{id:"34663205175468",profile_id:"125",price:"3000.00",price_shopify:"3000.00",sku:"p232",title:"ytllopw",image:null,product_id:"5290597351591",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1MjkwNTk3MzUxNTkxLCJsYXN0X3ZhbHVlIjoiNTI5MDU5NzM1MTU5MSJ9",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:"2020-10-21T10:31:39.751Z",preorder_activating_end_date:"2020-12-31T10:31:39.751Z"},{id:"5290600104103",profile_id:"123",title:"Iphone 11",bodyHtml:"test item 3",totalInventory:0,images:[{id:"gid://shopify/ProductImage/17297359732903",src:"https://cdn.shopify.com/s/files/1/0402/9851/2551/products/phone3.jpg?v=1591449023"}],productType:"MT",vendor:"testphonestore33",updatedAt:"2020-07-11T08:53:07Z",createdAt:"2020-06-06T13:10:22Z",variants:{34663225786535:{id:"34663225786535",profile_id:"123",price:"30000.00",price_shopify:"30000.00",sku:"p003",title:"10",image:null,product_id:"5290600104103",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null},34663225819303:{id:"34663225819303",profile_id:"123",price:"30000.00",price_shopify:"30000.00",sku:"p004",title:"20",image:null,product_id:"5290600104103",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1MjkwNjAwMTA0MTAzLCJsYXN0X3ZhbHVlIjoiNTI5MDYwMDEwNDEwMyJ9",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null},{id:"5315712975015",profile_id:"124",title:"LG phone",bodyHtml:"test item 4",totalInventory:0,images:[{id:"",src:"https://cdn.shopify.com/s/files/1/0402/9851/2551/products/lg.jpg?v=1591875516"}],productType:"",vendor:"testphonestore44",updatedAt:"2020-07-11T08:53:08Z",createdAt:"2020-06-11T11:36:54Z",variants:{34675319472295:{id:"34675319472295",profile_id:"123",price:"8500.00",price_shopify:"8500.00",sku:"p005",title:"Default Title",image:null,product_id:"5315712975015",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1MzE1NzEyOTc1MDE1LCJsYXN0X3ZhbHVlIjoiNTMxNTcxMjk3NTAxNSJ9",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null},{id:"5364780335271",profile_id:"123",title:"Nokia",bodyHtml:"Test product Nokia",totalInventory:4,images:[],productType:"",vendor:"testphonestore",updatedAt:"2020-07-27T17:25:52Z",createdAt:"2020-06-22T15:45:55Z",variants:{35021504381095:{id:"35021504381095",profile_id:"123",price:"1800.00",price_shopify:"1800.00",sku:"n-123",title:"1",image:null,product_id:"5364780335271",preorder_status:F.PreorderStatus.Enabled,preorder_activating_start_date:null,preorder_activating_end_date:null},35021504413863:{id:"35021504413863",profile_id:"123",price:"1800.00",price_shopify:"1800.00",sku:"n-124",title:"2",image:null,product_id:"5364780335271",preorder_status:F.PreorderStatus.Activated,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1MzY0NzgwMzM1MjcxLCJsYXN0X3ZhbHVlIjoiNTM2NDc4MDMzNTI3MSJ9",preorder_status:F.PreorderStatus.Activated,preorder_activating_start_date:null,preorder_activating_end_date:null},{id:"5372512665767",profile_id:"123",title:"Xiaomi redmi note 9",bodyHtml:"Test Add product event\xa0for\xa0webhook",totalInventory:1,images:[{id:"gid://shopify/ProductImage/18655811993767",src:"https://cdn.shopify.com/s/files/1/0402/9851/2551/products/phone1_6d22f739-47cd-47ea-b626-10d54dc226cc.jpg?v=1597231573"}],productType:"",vendor:"testphonestore",updatedAt:"2020-08-12T11:27:08Z",createdAt:"2020-06-23T21:01:16Z",variants:{35743396495527:{id:"35743396495527",profile_id:"123",price:"7899.00",price_shopify:"7899.00",sku:"",title:"red",image:{id:"gid://shopify/ProductImage/18655840239783",src:"https://cdn.shopify.com/s/files/1/0402/9851/2551/products/lg_09acb976-3343-4ba5-8ecc-7d5a94ead5c3.jpg?v=1597231573"},product_id:"5372512665767",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null},35743396561063:{id:"35743396561063",profile_id:"123",price:"7899.00",price_shopify:"7899.00",sku:"",title:"green",image:null,product_id:"5372512665767",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1MzcyNTEyNjY1NzY3LCJsYXN0X3ZhbHVlIjoiNTM3MjUxMjY2NTc2NyJ9",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null},{id:"5372523675815",profile_id:"123",title:"FlyWWzxc",bodyHtml:"Test product added event for webhook 2WWW",totalInventory:11,images:[],productType:"",vendor:"testphonestore",updatedAt:"2020-07-20T11:06:00Z",createdAt:"2020-06-23T21:04:22Z",variants:{34879874367655:{id:"34879874367655",profile_id:"123",price:"7010.00",price_shopify:"7010.00",sku:"q12",title:"Default Title",image:null,product_id:"5372523675815",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1MzcyNTIzNjc1ODE1LCJsYXN0X3ZhbHVlIjoiNTM3MjUyMzY3NTgxNSJ9",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null},{id:"5375961694375",profile_id:"123",title:"Lenovo",bodyHtml:"test webhook 3",totalInventory:3,images:[],productType:"",vendor:"testphonestore",updatedAt:"2020-07-11T08:53:07Z",createdAt:"2020-06-24T10:30:33Z",variants:{34892006293671:{id:"34892006293671",profile_id:"123",price:"7800.00",price_shopify:"7800.00",sku:"s123777",title:"Default Title",image:null,product_id:"5375961694375",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1Mzc1OTYxNjk0Mzc1LCJsYXN0X3ZhbHVlIjoiNTM3NTk2MTY5NDM3NSJ9",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null},{id:"5377090289831",profile_id:"123",title:"Alcatel",bodyHtml:"Test Webhook Jobn",totalInventory:-3,images:[],productType:"",vendor:"testphonestore",updatedAt:"2020-07-15T17:56:51Z",createdAt:"2020-06-24T16:40:30Z",variants:{34913502101671:{id:"34913502101671",profile_id:"123",price:"78.00",price_shopify:"78.00",sku:"st1999",title:"green",image:null,product_id:"5377090289831",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null},34913502134439:{id:"34913502134439",profile_id:"123",price:"91.00",price_shopify:"91.00",sku:"st2000",title:"Red",image:null,product_id:"5377090289831",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1Mzc3MDkwMjg5ODMxLCJsYXN0X3ZhbHVlIjoiNTM3NzA5MDI4OTgzMSJ9",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null},{id:"5377100611751",profile_id:"123",title:"LG2GG",bodyHtml:"Tdfd",totalInventory:9,images:[],productType:"",vendor:"testphonestore",updatedAt:"2020-07-11T08:53:08Z",createdAt:"2020-06-24T16:43:20Z",variants:{35011451256999:{id:"35011451256999",profile_id:"123",price:"5000.00",price_shopify:"5000.00",sku:"gh89",title:"1",image:null,product_id:"5377100611751",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null},35011451289767:{id:"35011451289767",profile_id:"123",price:"5000.00",price_shopify:"5000.00",sku:"gh90",title:"2",image:null,product_id:"5377100611751",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null}},cursor:"eyJsYXN0X2lkIjo1Mzc3MTAwNjExNzUxLCJsYXN0X3ZhbHVlIjoiNTM3NzEwMDYxMTc1MSJ9",preorder_status:F.PreorderStatus.Disabled,preorder_activating_start_date:null,preorder_activating_end_date:null}],z={price_change_value:"-10",price_type:"relative_percent",inventory_limit:100,button_text:"Text",button_message:"Message",start_date:"2020-08-10T07:55:56Z",end_date:"2020-08-12T07:55:56Z",availability_date:"2020-09-01T07:55:56Z"},X=r(99),Z=r(287),B=r(43),L=r(34),J="/products",Y={getProducts:function(t){var e="".concat(J),r=new URLSearchParams;t.filter.availiability&&r.set("filter",t.filter.availiability),t.filter.query&&r.set("title",t.filter.query),r.set("sort_dir",t.sort.dir),r.set("sort_field",t.sort.field),r.set("per_page",String(t.pageInfo.pageSize)),r.set("page_direction",t.pageInfo.pageDirection),t.pageInfo.cursor&&r.set("cursor",t.pageInfo.cursor);var n=r.toString();return Object(L.a)()?Object(X.a)({products:[].concat(Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C)),pageInfo:{hasNextPage:!0,hasPreviousPage:!1}}).pipe(Object(Z.a)(800)):w.get(e+"?"+n.toString()).pipe(Object(B.a)((function(t){return t.data})))},getProductSettings:function(t){var e="".concat(J,"/settings/").concat(t.productId),r=new URLSearchParams;t.variantId&&r.set("variant_id",t.variantId);var n=r.toString();return Object(L.a)()?Object(X.a)(z).pipe(Object(Z.a)(800)):w.get(e+(t.variantId?"?"+n.toString():"")).pipe(Object(B.a)((function(t){return t.data})))},updateProductsAndVariantsStatusBulk:function(t){var e="".concat(J,"/status");new URLSearchParams;return Object(L.a)()?Object(X.a)({products:[].concat(Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C)),pageInfo:{hasNextPage:!0,hasPreviousPage:!1}}).pipe(Object(Z.a)(800)):w.post(e,t).pipe(Object(B.a)((function(t){return t.data})))},updateProductsSettings:function(t){var e="".concat(J,"/settings");new URLSearchParams;return Object(L.a)()?Object(X.a)({products:[].concat(Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C),Object(S.a)(C)),pageInfo:{hasNextPage:!0,hasPreviousPage:!1}}).pipe(Object(Z.a)(800)):w.post(e,t).pipe(Object(B.a)((function(t){return t.data})))}},H=r(199),R=r(269),V=r(271),U=r(272),q=r(270),W=r(39),G=r(42),Q=function(){var t,e;return{innerActionEpic:function(r,n){return t=r,e=n,W.a},withConfirmation:function(e,r){return function(n){return n.pipe(Object(R.a)((function(n){return t.pipe(Object(H.a)(O.b),Object(R.a)((function(){return r?r(n):Object(X.a)({type:"noop"})}))).pipe(Object(q.a)(Object(O.f)(e(n))))})))}},withAppLoading:function(t){return function(r){return r.pipe(Object(R.a)((function(r){return t(r,e.value).pipe(Object(R.a)((function(t){return Object(G.a)([t,Object(O.e)()])})),Object(q.a)(Object(O.d)()))})))}}}}(),K=Q.innerActionEpic,$=Q.withConfirmation,tt=Q.withAppLoading,et=function(t,e){return t.pipe(Object(H.a)(s.j,s.l,s.y,s.u),Object(R.a)((function(){var t=e.value.products,r=t.filters,n=Object(M.a)({},t.pageInfo),a=t.sort;return Y.getProducts({filter:r,pageInfo:n,sort:a}).pipe(Object(B.a)((function(t){return Object(s.p)(t)})),Object(V.a)((function(t){return Object(X.a)(Object(s.o)(t))})))})))},rt=function(t){return t.pipe(Object(H.a)(s.k),Object(U.a)(600),Object(B.a)(s.l))},nt=function(t,e){return t.pipe(Object(H.a)(s.G),Object(R.a)((function(t){var e,r=t.payload,n=r.products,a=r.variants,i=r.enabled?F.PreorderStatus.Enabled:F.PreorderStatus.Disabled,o=[],c=Object(E.a)(a);try{for(c.s();!(e=c.n()).done;){var d=e.value;o.push({productId:d.product_id,variantId:d.id})}}catch(f){c.e(f)}finally{c.f()}var u,l=Object(E.a)(n);try{for(l.s();!(u=l.n()).done;){var p=u.value;o.push({productId:p.id})}}catch(f){l.e(f)}finally{l.f()}return Y.updateProductsAndVariantsStatusBulk({items:o,status:i}).pipe(Object(B.a)((function(){return Object(s.u)(F.PageDirection.Same)})),Object(V.a)((function(){return Object(X.a)(Object(s.j)())})))})))},at=function(t,e){return t.pipe(Object(H.a)(s.z),Object(B.a)((function(t){var r=t.payload,n=r.id,a=r.enabled,i=r.isVariant,o=e.value.products,c={enabled:a,products:[],variants:[]};if(i){var d=o.variantsById[n];c.variants.push(d);var u=o.productsById[d.product_id],l=!0;u.variants.forEach((function(t){if(n!==t){var e=o.variantsById[t];l=l&&e.enabled===a}})),(l&&a||!l&&!a&&u.enabled)&&c.products.push(u)}else{var p,f=o.productsById[n];c.products.push(f),(p=c.variants).push.apply(p,Object(S.a)(f.variants.map((function(t){return o.variantsById[t]}))))}return Object(s.G)(c)})))},it=function(t){return t.pipe(Object(H.a)(s.x),Object(B.a)((function(){return Object(s.u)(F.PageDirection.Same)})))},ot=function(t,e){return t.pipe(Object(H.a)(s.v),Object(R.a)((function(t){var r=t.payload,n=e.value.products,a=r.items[0];if(!a.variantId){var i,o=n.productsById[a.productId].variants.map((function(t){return{productId:a.productId,variantId:t}}));(i=r.items).push.apply(i,Object(S.a)(o))}return Y.updateProductsSettings(r).pipe(Object(B.a)((function(){return Object(s.x)(!0)})),Object(V.a)((function(t){return Object(X.a)(Object(s.w)(t))})))})))},ct=function(t){return t.pipe(Object(H.a)(s.i),Object(R.a)((function(t){return Y.getProductSettings(t.payload).pipe(Object(B.a)((function(t){return Object(s.n)(t)})),Object(V.a)((function(t){return Object(X.a)(Object(s.m)(t))})))})))},dt=function(t,e){return t.pipe(Object(H.a)(s.d),$((function(t){return{content:"Are you sure you want to ".concat(void 0===t.payload?"enable":"disable"," selected items ? ")}}),(function(t){var r=e.value.products,n=r.selectedProducts.variantsIds.map((function(t){return{productId:r.variantsById[t].product_id,variantId:t}})),a=r.selectedProducts.productsIds.map((function(t){return{productId:t}})),i=[].concat(Object(S.a)(a),Object(S.a)(n)),o=void 0===t.payload?F.PreorderStatus.Enabled:F.PreorderStatus.Disabled;return Y.updateProductsAndVariantsStatusBulk({items:i,status:o}).pipe(Object(B.a)((function(){return Object(s.f)(!0)})),Object(V.a)((function(t){return Object(X.a)(Object(s.e)(t))})),Object(q.a)(Object(s.B)()))})))},ut=function(t,e){return t.pipe(Object(H.a)(s.f),Object(B.a)((function(t){return{type:"noop"}})))},st=function(t,e){return t.pipe(Object(H.a)(s.f,s.c,s.b,s.F,s.E),Object(B.a)((function(t){return Object(s.j)()})))},lt=r(147),pt=r(82),ft=[{id:"123",user_id:"",name:"Profile 123",price_type:"relative_percent",price_change_value:"-20",inventory_limit:100,button_text:"Button Profile 123",button_message:"Button Profile 123",start_date:"2020-08-05T07:55:56Z",end_date:"2020-08-15T07:55:56Z",creted_at:"",updated_at:""},{id:"124",user_id:"",name:"Profile 124",price_type:"specific",price_change_value:"20",inventory_limit:100,button_text:"",button_message:"",start_date:"2020-08-02T07:55:56Z",end_date:"2020-08-22T07:55:56Z",creted_at:"",updated_at:""},{id:"125",user_id:"",name:"Profile 125",price_type:"relative_percent",price_change_value:"-20",inventory_limit:100,button_text:"",button_message:"",start_date:"",end_date:"",creted_at:"",updated_at:""}],gt={getProfiles:function(t){var e="".concat("/profiles"),r=new URLSearchParams;r.set("sort_dir",t.sort.dir),r.set("sort_field",t.sort.field),r.set("per_page",String(t.pageInfo.pageSize)),r.set("page_direction",t.pageInfo.pageDirection),r.set("cursor",t.pageInfo.cursor);r.toString();return Object(L.a)()?Object(X.a)(ft).pipe(Object(Z.a)(800)):w.get(e).pipe(Object(B.a)((function(t){return t.data})))},updateProfile:function(t){var e=t.id,r=Object(pt.a)(t,["id"]),n="".concat("/profiles"),a=w.post.bind(w);return e&&(n+="/".concat(e)),a(n,r).pipe(Object(B.a)((function(t){return t.data})))},applyProfile:function(t){var e=t.id,r=Object(pt.a)(t,["id"]),n="".concat("/profiles","/").concat(e,"/apply");return w.post(n,r).pipe(Object(B.a)((function(t){return t.data})))},unassignProfile:function(t){t.id;var e=Object(pt.a)(t,["id"]),r="".concat("/profiles","/unassign");return w.post(r,e).pipe(Object(B.a)((function(t){return t.data})))},getProfile:function(t){var e="".concat("/profiles","/").concat(t);return Object(L.a)()?Object(X.a)(ft[0]).pipe(Object(Z.a)(800)):w.get(e).pipe(Object(B.a)((function(t){return t.data})))},deleteProfile:function(t){var e="".concat("/profiles","/").concat(t.id);return w.delete(e).pipe(Object(B.a)((function(t){return t.data})))}},bt=function(t,e){return t.pipe(Object(H.a)(l.h),Object(R.a)((function(){var t=e.value.profiles,r=Object(M.a)({},t.pageInfo),n=t.sort;return gt.getProfiles({pageInfo:r,sort:n}).pipe(Object(B.a)((function(t){return Object(l.j)(t)})),Object(V.a)((function(t){return Object(X.a)(Object(l.i)(t))})))})))},_t=function(t,e){return t.pipe(Object(H.a)(s.a),Object(R.a)((function(t){var r,n=e.value.products,a=t.payload,i=a.id,o=a.item,c=[],d=(null===(r=n.assignProfileModal.data)||void 0===r?void 0:r.product)||o;if(d){var u=d,l=u.product_id,p=u.id;l?c.push({productId:l,variantId:p}):(c.push({productId:p}),n.productsById[p].variants.forEach((function(t){c.push({productId:p,variantId:t})})))}else n.selectedProducts.productsIds.forEach((function(t){return c.push({productId:t})})),n.selectedProducts.variantsIds.forEach((function(t){return c.push({variantId:t,productId:n.variantsById[t].product_id})}));var f={id:i,items:c};return gt.applyProfile(f).pipe(Object(B.a)((function(){return Object(s.c)(!0)})),Object(V.a)((function(t){return Object(X.a)(Object(s.b)(t))})))})))},vt=function(t,e){return t.pipe(Object(H.a)(s.D),$((function(){return{content:"Are you sure you want to cancel the profile assignment?",actions:{primary:"Yes",secondary:"Cancel"}}}),(function(t){var r,n=e.value.products,a=null!==(r=t.payload)&&void 0!==r?r:{},i=a.id,o=a.item,c=[];if(o){var d=o.product_id,u=o.id;d&&c.push({productId:d,variantId:u})}else n.selectedProducts.productsIds.forEach((function(t){return c.push({productId:t})})),n.selectedProducts.variantsIds.forEach((function(t){return c.push({variantId:t,productId:n.variantsById[t].product_id})}));var l={id:null!==i&&void 0!==i?i:"",items:c};return gt.unassignProfile(l).pipe(Object(B.a)((function(){return Object(s.c)(!0)})),Object(V.a)((function(t){return Object(X.a)(Object(s.b)(t))})),Object(q.a)(Object(s.C)()))})))},jt=function(t){return t.pipe(Object(H.a)(l.o),Object(R.a)((function(t){return gt.updateProfile(t.payload).pipe(Object(B.a)((function(){return Object(l.q)(!0)})),Object(V.a)((function(t){return Object(X.a)(Object(l.p)(t))})))})))},Ot=function(t){return t.pipe(Object(H.a)(l.q),Object(B.a)((function(){return Object(l.h)()})))},ht=function(t){return t.pipe(Object(H.a)(l.e),Object(R.a)((function(t){return gt.getProfile(t.payload).pipe(Object(B.a)((function(t){return Object(l.g)(t)})),Object(V.a)((function(t){return Object(X.a)(Object(l.f)(t))})))})))},mt=function(t){return t.pipe(Object(H.a)(l.b),$((function(){return{content:"Are you sure you want to delete this profile?",actions:{primary:"Yes",secondary:"Cancel"}}}),(function(t){return gt.deleteProfile(t.payload).pipe(Object(B.a)((function(){return Object(l.d)(!0)})),Object(V.a)((function(t){return 403===t.status?Array.from([Object(O.f)({content:"This profile is assigned to active pre-orders. To delete this profile, please end all pre-orders this profile is assigned to.",actions:!1,warning:!0}),Object(l.n)()]):Object(X.a)(Object(l.c)(t))})),Object(q.a)(Object(l.m)()))})))},yt=function(t){return t.pipe(Object(H.a)(l.c),Object(lt.a)((function(t){return 400===t.payload.status})),$((function(){return{content:"This profile is assigned to active pre-orders. To delete this profile, please end all pre-orders this profile is assigned to."}})))},Pt=function(t){return t.pipe(Object(H.a)(l.d),Object(B.a)((function(){return Object(l.h)()})))},St={design_settings:{current:{preorder:{button:{color:"#D3E1F1",background_color:"#182CD9",border_color:"#182CD9",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},hover:{color:"#D3E1F1",background_color:"#4FA7EC",border_color:"#4FA7EC",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},message:{color:"#898989",background_color:"initial",border_color:"initial",font_family:"inherit",font_size:"14px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"0",border_width:"0",padding_top:"0",padding_bottom:"0",padding_right:"0",padding_left:"0"}},checkout:{button:{color:"#D3E1F1",background_color:"#182CD9",border_color:"#182CD9",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},hover:{color:"#D3E1F1",background_color:"#4FA7EC",border_color:"#4FA7EC",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},message:{color:"#898989",background_color:"initial",border_color:"initial",font_family:"inherit",font_size:"14px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"0",border_width:"0",padding_top:"0",padding_bottom:"0",padding_right:"0",padding_left:"0"}}},default:{preorder:{button:{color:"#D3E1F1",background_color:"#182CD9",border_color:"#182CD9",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},hover:{color:"#D3E1F1",background_color:"#4FA7EC",border_color:"#4FA7EC",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},message:{color:"#898989",background_color:"initial",border_color:"initial",font_family:"inherit",font_size:"14px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"0",border_width:"0",padding_top:"0",padding_bottom:"0",padding_right:"0",padding_left:"0"}},checkout:{button:{color:"#D3E1F1",background_color:"#182CD9",border_color:"#182CD9",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},hover:{color:"#D3E1F1",background_color:"#4FA7EC",border_color:"#4FA7EC",font_family:"inherit",font_size:"18px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"3px",border_width:"1px",padding_top:"12px",padding_bottom:"12px",padding_right:"30px",padding_left:"30px"},message:{color:"#898989",background_color:"initial",border_color:"initial",font_family:"inherit",font_size:"14px",font_weight:"normal",text_decoration:"none",font_style:"normal",border_radius:"0",border_width:"0",padding_top:"0",padding_bottom:"0",padding_right:"0",padding_left:"0"}}}},app_settings:{user_id:"1",price:"100.00",price_change_value:"100.00",price_type:"relative_percent",start_date:"2020-11-12T08:33:29.000000Z",end_date:"2020-11-12T08:33:29.000000Z",inventory_limit:"19",button_text:"New default btn text",button_message:"New default btn message",created_at:"2020-11-12T08:33:29.000000Z",updated_at:"2020-11-12T10:34:52.000000Z"}},It={getSettings:function(){var t="".concat("/settings");return Object(L.a)()?Object(X.a)(St).pipe(Object(Z.a)(800)):w.get(t).pipe(Object(B.a)((function(t){return t.data})))},updateSettings:function(t){var e="".concat("/settings");return w.post(e,t).pipe(Object(B.a)((function(t){return t.data})))}},Et=function(t){return t.pipe(Object(H.a)(v.b),tt((function(){return It.getSettings().pipe(Object(B.a)((function(t){return Object(v.d)(t)})),Object(V.a)((function(t){return Object(X.a)(Object(v.c)(t))})))})))},Mt=function(t,e){return t.pipe(Object(H.a)(v.j),tt((function(t,e){var r,n,a={app_settings:e.settings.settings.app,design_settings:{current:null!==(r=null===(n=e.settings.settings.design.state)||void 0===n?void 0:n.current)&&void 0!==r?r:null}};return It.updateSettings(a).pipe(Object(B.a)((function(){return Object(v.l)(!0)})),Object(V.a)((function(t){return Object(X.a)(Object(v.k)(t))})))})))},xt=[{id:3,type:"RECURRING",name:"Test Plan",price:5,capped_amount:10,terms:"Test terms",trial_days:7,test:!0,on_install:!1,created_at:null,updated_at:""},{id:4,type:"RECURRING",name:"Test Plan2",price:0,capped_amount:19.99,terms:"Free for up to 3 Products. Standard email support",trial_days:0,test:!0,on_install:!1,created_at:null,updated_at:""},{id:5,type:"RECURRING",name:"New3",price:0,capped_amount:29.99,terms:"Free for up to 3 Products. Includes a dedicated Tier-3 account and support manager, priority queue when requesting support, & up to 3 h/month of customizations and personal assistance to set up the app",trial_days:0,test:!0,on_install:!0,created_at:null,updated_at:""}],kt={getSubscription:function(){var t="".concat("/plans");return Object(L.a)()?Object(X.a)(xt).pipe(Object(Z.a)(800)):w.get(t).pipe(Object(B.a)((function(t){return t.data})))},getActiveSubscription:function(){var t="".concat("/plans","/active");return Object(L.a)()?Object(X.a)(xt[0]).pipe(Object(Z.a)(800)):w.get(t).pipe(Object(B.a)((function(t){return t.data})))},updateSubscription:function(t){var e="".concat("/plans");return w.post(e,t).pipe(Object(B.a)((function(t){return t.data})))}},Tt=function(t){return t.pipe(Object(H.a)(j.e),tt((function(){return kt.getSubscription().pipe(Object(B.a)((function(t){return Object(j.g)(t)})),Object(V.a)((function(t){return Object(X.a)(Object(j.f)(t))})))})))},At=function(t){return t.pipe(Object(H.a)(j.b),tt((function(){return kt.getActiveSubscription().pipe(Object(B.a)((function(t){return Object(j.d)(t)})),Object(V.a)((function(t){return Object(X.a)(Object(j.c)(t))})))})))},Dt=[n,a,i,o].flatMap((function(t){return Object.values(t)})),Nt=[K],wt=I.a.apply(void 0,Nt.concat(Object(S.a)(Dt))),Ft=r(45),Ct=Object(y.a)(),zt=Object(Ft.a)(),Xt=Object(p.a)({reducer:h(zt),middleware:[Object(P.a)(zt),m.a,Ct]});Ct.run(wt);var Zt=e.a=Xt},168:function(t,e,r){"use strict";var n,a,i,o,c,d,u,s,l;r.d(e,"e",(function(){return n})),r.d(e,"d",(function(){return a})),r.d(e,"i",(function(){return i})),r.d(e,"h",(function(){return o})),r.d(e,"c",(function(){return c})),r.d(e,"b",(function(){return u})),r.d(e,"f",(function(){return s})),r.d(e,"g",(function(){return l})),r.d(e,"a",(function(){return p})),function(t){t.Enabled="enabled",t.Disabled="disabled",t.Activated="activated"}(n||(n={})),function(t){t.Before="before",t.After="after",t.Same="same"}(a||(a={})),function(t){t.Inventory="inventory",t.Title="title"}(i||(i={})),function(t){t.Asc="asc",t.Desc="desc"}(o||(o={})),function(t){t.Activated="activated",t.Scheduled="scheduled"}(c||(c={})),function(t){t.Activated="activated",t.Scheduled="scheduled"}(d||(d={})),function(t){t.SoldOut="sold_out",t.InStock="in_stock",t.Preordered="preordered"}(u||(u={})),function(t){t.Same="same",t.Value="value",t.Increase="increase",t.Decrease="decrease"}(s||(s={})),function(t){t.SpecificValue="specific",t.Percent="relative_percent",t.Amount="relative_amount",t.Same="same"}(l||(l={}));var p={Status:"status",Availiability:"availiability",Query:"query"};Object.values(p)},169:function(t,e){},17:function(t,e,r){"use strict";r.d(e,"j",(function(){return u})),r.d(e,"i",(function(){return s})),r.d(e,"h",(function(){return l})),r.d(e,"k",(function(){return p})),r.d(e,"o",(function(){return f})),r.d(e,"q",(function(){return g})),r.d(e,"p",(function(){return b})),r.d(e,"l",(function(){return _})),r.d(e,"e",(function(){return v})),r.d(e,"g",(function(){return j})),r.d(e,"f",(function(){return O})),r.d(e,"b",(function(){return h})),r.d(e,"d",(function(){return m})),r.d(e,"c",(function(){return y})),r.d(e,"m",(function(){return P})),r.d(e,"n",(function(){return S}));var n=r(6),a=r(38),i=r(26),o={profilesById:{},profilesIds:[],loading:!1,error:null,pageInfo:i.b,selectedProfiles:[],sort:i.c,profileModal:{loading:!1,data:null,error:null,open:!1}},c=Object(a.b)({name:"profiles",initialState:o,reducers:{startLoading:i.d,stopLoading:i.e,getProfilesStart:i.d,getProfilesSuccess:function(t,e){var r=e.payload;t.loading=!1,t.error=null;var n=r.reduce((function(t,e){return t.profiles[e.id]=e,t.profilesIds.push(e.id),t}),{profiles:{},profilesIds:[]});t.profilesById=n.profiles,t.profilesIds=n.profilesIds},getProfilesFailure:i.a,selectProfiles:function(t,e){var r=e.payload;t.selectedProfiles=r},fetchProfiles:function(t,e){var r,a=e.payload;a&&(t.pageInfo=o.pageInfo),a&&(null===a||void 0===a||null===(r=a.filterValue)||void 0===r?void 0:r.filter)===n.Filter.Query||Object(i.d)(t)},openProfileModal:function(t,e){var r=e.payload;t.profileModal.data=o.profileModal.data,t.profileModal.open=r},updateProfile:function(t,e){e.payload;t.profileModal.loading=!0},updateProfileSuccess:function(t,e){e.payload;t.profileModal.loading=!1,t.profileModal.open=!1},updateProfileFailure:function(t,e){var r=e.payload;t.profileModal.loading=!1,t.profileModal.error=r},fetchProfile:function(t,e){e.payload;t.profileModal.loading=!0},fetchProfileSuccess:function(t,e){var r=e.payload;t.profileModal.loading=!1,t.profileModal.data=r,t.profileModal.error=null},fetchProfileFailure:function(t,e){t.profileModal.loading=!1,t.profileModal.error=e.payload},deleteProfile:function(t,e){e.payload},deleteProfileSuccess:function(t,e){e.payload;t.loading=!1},deleteProfileFailure:function(t,e){t.loading=!1}},extraReducers:function(t){}}),d=c.actions,u=(d.getProfilesStart,d.getProfilesSuccess),s=d.getProfilesFailure,l=d.fetchProfiles,p=d.openProfileModal,f=d.updateProfile,g=d.updateProfileSuccess,b=d.updateProfileFailure,_=d.selectProfiles,v=d.fetchProfile,j=d.fetchProfileSuccess,O=d.fetchProfileFailure,h=d.deleteProfile,m=d.deleteProfileSuccess,y=d.deleteProfileFailure,P=d.startLoading,S=d.stopLoading;e.a=c.reducer},200:function(t){t.exports=JSON.parse("{}")},218:function(t,e,r){t.exports=r(263)},26:function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"e",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return d}));var n=r(6);function a(t){t.loading=!0}function i(t){t.loading=!1}function o(t,e){t.loading=!1,t.error=e.payload}var c={hasNextPage:!1,hasPreviousPage:!1,pageSize:10,pageDirection:n.PageDirection.After,cursor:""},d={dir:n.SortDir.Asc,field:n.SortField.Title}},260:function(t,e,r){},261:function(t,e,r){},262:function(t,e,r){},263:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),i=r(63),o=r.n(i),c=(r(223),r(283)),d=r(101),u=r(31),s=r(115),l=r(21),p=r(281),f=r(285),g=r(124),b=r(148),_=r(68),v=r(87),j=r(123),O="topNavBar",h=Object(j.a)({buttonsDashboard:{id:"".concat(O,".buttons.Dashboard"),defaultMessage:"Dashboard"},buttonsProducts:{id:"".concat(O,".buttons.Products"),defaultMessage:"Products"},buttonsSettings:{id:"".concat(O,".buttons.Settings"),defaultMessage:"App Settings"},buttonsProfiles:{id:"".concat(O,".buttons.Profiles"),defaultMessage:"Profiles"},buttonsMore:{id:"".concat(O,".buttons.More"),defaultMessage:"More"},buttonsDesign:{id:"".concat(O,".buttons.Design"),defaultMessage:"Design"},buttonsProfile:{id:"".concat(O,".buttons.Profile"),defaultMessage:"Profiles"},buttonsKnowledgeBase:{id:"".concat(O,".buttons.KnowledgeBase"),defaultMessage:"Knowledge Base"},buttonsSubscription:{id:"".concat(O,".buttons.Subscription"),defaultMessage:"Subscription"}}),m=r(35);var y=function(){var t=Object(u.d)(),e=(0,Object(v.c)().formatDictionary)(h);return a.a.createElement(f.a.Section,null,a.a.createElement("div",{id:"topNav"},a.a.createElement(b.a,null,a.a.createElement(_.a,null,e.buttonsDashboard),a.a.createElement(_.a,{url:"/products"},e.buttonsProducts),a.a.createElement(_.a,{connectedDisclosure:{accessibilityLabel:e.buttonsDesign,actions:[{content:e.buttonsProfiles,onAction:function(){return t(Object(m.d)("/profiles"))}},{content:e.buttonsSettings,onAction:function(){return t(Object(m.d)("/settings"))}},{content:e.buttonsKnowledgeBase},{content:e.buttonsSubscription,onAction:function(){return t(Object(m.d)("/subscription"))}}]}},e.buttonsMore))))},P=r(7),S=r(17),I=r(18),E=r(19),M=r(29),x=r(30),k=function(t){return function(e){Object(M.a)(n,e);var r=Object(x.a)(n);function n(){var t;Object(I.a)(this,n);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=r.call.apply(r,[this].concat(a))).state={component:null},t}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({component:t.default})})).catch((function(t){return console.error(t)}))}},{key:"render",value:function(){var t=this.state.component;return t?a.a.createElement(t,this.props):null}}]),n}(n.Component)},T=r(282),A=r(23),D=r(61),N=function(t){return t.app},w=Object(D.a)(N,(function(t){return t.confirmation})),F=Object(D.a)(N,(function(t){return t.mock})),C=Object(D.a)(N,(function(t){return t.loading})),z=r(44),X=r(275);r(260);var Z=function(){Object(v.c)().formatDictionary;var t=Object(u.d)(),e=Object(u.e)(w),r=e.content,i=e.open,o=e.actions,c=e.warning,d=Object(n.useCallback)((function(){return t(Object(z.b)())}),[]),s=Object(n.useCallback)((function(){return t(Object(z.c)())}),[]),l=Object(n.useMemo)((function(){var t;return!1===o?void 0:{content:null!==(t=null===o||void 0===o?void 0:o.primary)&&void 0!==t?t:"Yes",onAction:d}}),[o]),p=Object(n.useMemo)((function(){var t;return!1===o?void 0:[{content:null!==(t=null===o||void 0===o?void 0:o.secondary)&&void 0!==t?t:"No",onAction:s}]}),[o]);return a.a.createElement(T.a,{open:i,title:"",onClose:s,primaryAction:l,secondaryActions:p},a.a.createElement(T.a.Section,null,a.a.createElement("div",{className:"confirmationModal"},c?a.a.createElement(A.a,{source:X.a,color:"yellow"}):null,a.a.createElement(g.a,{size:"medium"},r))))},B=r(265),L=r(34);function J(){var t=Object(u.d)(),e=Object(u.e)(F),r=Object(n.useCallback)((function(e){t(Object(z.g)(e)),e||(t(Object(P.j)()),t(Object(S.h)()))}),[]);return a.a.createElement(a.a.Fragment,null,L.c?null:a.a.createElement("div",{className:"mockToggler"},a.a.createElement(B.a,{label:"Mock",onChange:r,checked:e})))}var Y=r(131),H=(r(261),function(t){var e=t.children;return a.a.createElement("div",{className:"loadingOverlay"},a.a.createElement("div",{className:"loadingOverlay__box"},e))});function R(){return Object(u.e)(C)?a.a.createElement(H,null,a.a.createElement(Y.a,null)):null}var V=k((function(){return Promise.all([r.e(0),r.e(2),r.e(1),r.e(8)]).then(r.bind(null,536))})),U=k((function(){return Promise.all([r.e(0),r.e(2),r.e(1),r.e(9)]).then(r.bind(null,542))})),q=k((function(){return Promise.all([r.e(0),r.e(6),r.e(1),r.e(7)]).then(r.bind(null,538))})),W=k((function(){return r.e(10).then(r.bind(null,544))}));function G(){var t=Object(u.d)();return Object(n.useEffect)((function(){return t(Object(P.j)()),t(Object(S.h)()),function(){}}),[]),a.a.createElement(p.a,{fullWidth:!0},a.a.createElement(y,null),a.a.createElement(f.a.Section,{oneHalf:!0},a.a.createElement(g.a,{size:"large"},a.a.createElement(l.d,null,a.a.createElement(l.b,{path:"/products"},"Products"),a.a.createElement(l.b,{path:"/profiles"},"Profiles"))),a.a.createElement(l.d,null,a.a.createElement(l.b,{path:"/",exact:!0},a.a.createElement(l.a,{to:"/products"})),a.a.createElement(l.b,{path:"/products"},a.a.createElement(V,null)),a.a.createElement(l.b,{path:"/profiles"},a.a.createElement(U,null)),a.a.createElement(l.b,{path:"/settings"},a.a.createElement(q,null)),a.a.createElement(l.b,{path:"/subscription"},a.a.createElement(W,null)))),a.a.createElement(Z,null),a.a.createElement(R,null),a.a.createElement(J,null))}var Q=r(82),K=r(157),$=/^(?:[a-z][a-z\d+.-]*:|\/\/)/;function tt(t){var e=t.children,r=t.url,n=void 0===r?"":r,i=t.external,o=(t.ref,Object(Q.a)(t,["children","url","external","ref"]));return i||$.test(n)?(o.target="_blank",o.rel="noopener noreferrer",a.a.createElement("a",Object.assign({href:n},o),e)):a.a.createElement(K.a,Object.assign({to:n},o),e)}var et=r(152),rt=r(204),nt=(r(262),rt);var at=function(){return a.a.createElement(u.a,{store:s.a},a.a.createElement(d.a,{history:s.b},a.a.createElement(v.b,null,a.a.createElement(v.a.Consumer,null,(function(t){var e=t.config;return a.a.createElement(et.a,e,a.a.createElement(c.a,{i18n:nt,linkComponent:tt},a.a.createElement(G,null)))})))))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(at,null)),document.getElementById("root"))},34:function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return i}));var n=r(115),a=!0;e.a=function(){return!a&&n.a.getState().app.mock};var i=!0},44:function(t,e,r){"use strict";r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return l})),r.d(e,"g",(function(){return p})),r.d(e,"f",(function(){return f})),r.d(e,"b",(function(){return g})),r.d(e,"c",(function(){return b}));var n=r(12),a=r(34),i=r(38),o=r(26),c={loading:!1,error:null,mock:a.b,confirmation:{open:!1,content:"",actions:{primary:"Yes",secondary:"No"}}},d=Object(i.b)({name:"app",initialState:c,reducers:{startLoading:o.d,stopLoading:o.e,toggleMock:function(t,e){var r=e.payload;t.mock=r},toggleConfirmation:function(t,e){var r;t.confirmation=Object(n.a)(Object(n.a)(Object(n.a)({},t.confirmation),e.payload),{},{open:null===(r=e.payload.open)||void 0===r||r})},handlePrimaryConfirmationAction:function(t){t.confirmation=c.confirmation},handleSecondaryConfirmationAction:function(t){t.confirmation=c.confirmation}},extraReducers:function(){}}),u=d.actions,s=u.startLoading,l=u.stopLoading,p=u.toggleMock,f=u.toggleConfirmation,g=u.handlePrimaryConfirmationAction,b=u.handleSecondaryConfirmationAction;e.a=d.reducer},6:function(t,e,r){"use strict";var n=r(168);r.d(e,"Filter",(function(){return n.a})),r.d(e,"FilterAvailiability",(function(){return n.b})),r.d(e,"FilterStatus",(function(){return n.c})),r.d(e,"PageDirection",(function(){return n.d})),r.d(e,"PreorderStatus",(function(){return n.e})),r.d(e,"PriceSettingsMode",(function(){return n.f})),r.d(e,"PriceType",(function(){return n.g})),r.d(e,"SortDir",(function(){return n.h})),r.d(e,"SortField",(function(){return n.i}));r(169)},69:function(t,e,r){"use strict";r.d(e,"h",(function(){return d})),r.d(e,"g",(function(){return u})),r.d(e,"i",(function(){return s})),r.d(e,"b",(function(){return l})),r.d(e,"d",(function(){return p})),r.d(e,"c",(function(){return f})),r.d(e,"e",(function(){return g})),r.d(e,"j",(function(){return b})),r.d(e,"l",(function(){return _})),r.d(e,"k",(function(){return v})),r.d(e,"f",(function(){return j}));var n=r(12),a=r(38),i={loading:!1,error:null,settings:{app:null,design:{selected:{preorder:"button",checkout:"button"},state:null}}},o=Object(a.b)({name:"settings",initialState:i,reducers:{resetSettings:function(t){return i},resetDesignSettings:function(t,e){var r=t.settings.design,n=r.state,a=(r.selected,e.payload);n&&(n.current[a]=n.default[a])},setSelected:function(t,e){var r=e.payload,n=r.area,a=r.part;t.settings.design.selected[n]=a},getSettings:function(t){t.loading=!0},getSettingsSucces:function(t,e){var r=e.payload;t.settings.app=Object(n.a)(Object(n.a)({},i.settings.app),r.app_settings),t.settings.design=Object(n.a)(Object(n.a)({},i.settings.design),{},{state:r.design_settings}),t.loading=!1},getSettingsFailure:function(t,e){e.payload;t.loading=!1},patchAppSettings:function(t,e){var r=e.payload;t.settings.app=r},patchAreaDesignSettingsInState:function(t,e){var r=t.settings.design,a=r.state,i=r.selected,o=e.payload,c=o.style,d=o.area,u=a.current[d];u[i[d]]=Object(n.a)(Object(n.a)({},u[i[d]]),c)},patchCheckoutDesignSettingsInState:function(t,e){var r=t.settings.design,a=r.state,i=r.selected.checkout,o=e.payload;a.current.checkout[i]=Object(n.a)(Object(n.a)({},a.current.checkout[i]),o)},updateSettings:function(t){t.loading=!0},updateSettingsSuccess:function(t,e){e.payload;t.loading=!1},updateSettingsFailure:function(t,e){e.payload;t.loading=!1}},extraReducers:function(){}}),c=o.actions,d=c.resetSettings,u=c.resetDesignSettings,s=c.setSelected,l=c.getSettings,p=c.getSettingsSucces,f=c.getSettingsFailure,g=c.patchAppSettings,b=c.updateSettings,_=c.updateSettingsSuccess,v=c.updateSettingsFailure,j=c.patchAreaDesignSettingsInState;c.patchCheckoutDesignSettingsInState;e.a=o.reducer},7:function(t,e,r){"use strict";r.d(e,"p",(function(){return _})),r.d(e,"o",(function(){return v})),r.d(e,"s",(function(){return j})),r.d(e,"j",(function(){return O})),r.d(e,"l",(function(){return h})),r.d(e,"k",(function(){return m})),r.d(e,"u",(function(){return y})),r.d(e,"y",(function(){return P})),r.d(e,"A",(function(){return S})),r.d(e,"t",(function(){return I})),r.d(e,"z",(function(){return E})),r.d(e,"v",(function(){return M})),r.d(e,"r",(function(){return x})),r.d(e,"G",(function(){return k})),r.d(e,"i",(function(){return T})),r.d(e,"n",(function(){return A})),r.d(e,"m",(function(){return D})),r.d(e,"x",(function(){return N})),r.d(e,"w",(function(){return w})),r.d(e,"d",(function(){return F})),r.d(e,"f",(function(){return C})),r.d(e,"e",(function(){return z})),r.d(e,"q",(function(){return X})),r.d(e,"g",(function(){return Z})),r.d(e,"a",(function(){return B})),r.d(e,"c",(function(){return L})),r.d(e,"b",(function(){return J})),r.d(e,"D",(function(){return Y})),r.d(e,"F",(function(){return H})),r.d(e,"E",(function(){return R})),r.d(e,"C",(function(){return V})),r.d(e,"B",(function(){return U}));var n=r(5),a=r(82),i=r(12),o=r(38),c=r(26),d=r(6),u=r(17);function s(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}var l={loading:!1,error:null,pageInfo:c.b,selectedProducts:{productsIds:[],variantsIds:[],all:!1},filters:{query:"",status:"",availiability:""},sort:{dir:d.SortDir.Asc,field:d.SortField.Title},unfoldedProductsIds:[],productsById:{},productsIds:[],variantsById:{},settingsModal:{loading:!1,data:null,error:null,open:!1},assignProfileModal:{loading:!1,error:null,open:!1}};var p=function(t,e){var r,n=e.payload;if(n){var a=n.filterValue;a&&(t.filters[a.filter]=a.value),t.pageInfo=l.pageInfo}n&&(null===n||void 0===n||null===(r=n.filterValue)||void 0===r?void 0:r.filter)===d.Filter.Query||Object(c.d)(t)},f=function(t){switch(t.preorder_status){case d.PreorderStatus.Enabled:return!0;case d.PreorderStatus.Disabled:return!1;default:return!0}},g=Object(o.b)({name:"products",initialState:l,reducers:{startLoading:c.d,getProductsStart:c.d,getProductsSuccess:function(t,e){var r=e.payload,n=r.products,o=r.pageInfo;t.pageInfo=Object(i.a)(Object(i.a)({},t.pageInfo),o),t.loading=!1,t.error=null;var c=n.reduce((function(t,e){var r=e.variants,n=Object(a.a)(e,["variants"]),o=f(e),c={};return Object.values(r).forEach((function(t){var e=f(t);c[t.id]=Object(i.a)(Object(i.a)({},t),{},{enabled:e})})),t.products[e.id]=Object(i.a)(Object(i.a)({},n),{},{variants:Object.keys(r),enabled:o}),t.productsIds.add(e.id),t.variants=Object(i.a)(Object(i.a)({},t.variants),c),t}),{products:{},productsIds:new Set,variants:{}});t.productsById=c.products,t.productsIds=Array.from(c.productsIds),t.variantsById=c.variants},getProductsFailure:c.a,getProductSettingsSuccess:function(t,e){var r=e.payload;t.settingsModal.loading=!1,t.settingsModal.data=r,t.error=null},getProductSettingsFailure:function(t,e){t.settingsModal.loading=!1,t.error=e.payload},selectProducts:function(t,e){var r,a=e.payload.productsIds.filter((function(e){return void 0!==t.productsById[e]}));t.selectedProducts.productsIds=a,t.selectedProducts.all=a.length===t.productsIds.length,t.selectedProducts.variantsIds=null!==(r=a.reduce((function(e,r){return e.push.apply(e,Object(n.a)(t.productsById[r].variants)),e}),[]))&&void 0!==r?r:[]},selectVariants:function(t,e){var r=e.payload,a=r.selected,i=r.productId,o=Object(n.a)(t.selectedProducts.variantsIds),c=t.productsById[i].variants;c.forEach((function(t){return s(o,t)})),o.push.apply(o,Object(n.a)(a)),c.length===a.length?t.selectedProducts.productsIds.includes(i)||t.selectedProducts.productsIds.push(i):s(t.selectedProducts.productsIds,i),t.selectedProducts.variantsIds=Object(n.a)(o),t.selectedProducts.all=t.selectedProducts.productsIds.length===t.pageInfo.pageSize},setPage:function(t,e){var r=e.payload;r!==d.PageDirection.Same&&(t.pageInfo.pageDirection=r);var n=t.pageInfo;if(r===d.PageDirection.After&&t.pageInfo.hasNextPage){var a=t.productsIds[t.productsIds.length-1];n.cursor=t.productsById[a].cursor}else if(r===d.PageDirection.Before&&t.pageInfo.hasPreviousPage){var i=t.productsIds[0];n.cursor=t.productsById[i].cursor}t.selectedProducts=l.selectedProducts,Object(c.d)(t)},setSort:function(t,e){var r=e.payload;t.sort=r,t.pageInfo=l.pageInfo,t.selectedProducts=l.selectedProducts,Object(c.d)(t)},setFilter:function(t,e){var r=e.payload,n=r.filter,a=r.value;t.filters[n]=a},setFilterQuery:function(t,e){var r=e.payload;t.filters.query=r},setFilterStatus:function(t,e){var r=e.payload;t.filters.status=r},setFilterAvailiability:function(t,e){var r=e.payload;t.filters.availiability=r},setUnfolded:function(t,e){var r=e.payload;r.unfolded?t.unfoldedProductsIds.push(r.id):s(t.unfoldedProductsIds,r.id)},setStatus:function(t,e){e.payload},bulkEnable:function(t,e){e.payload},bulkEnableSuccess:function(t,e){e.payload;t.loading=!1},bulkEnableFailure:function(t,e){t.loading=!1},openAssignProfileModal:function(t,e){var r=e.payload;t.assignProfileModal.open=!0,t.assignProfileModal.data=r},closeAssignProfileModal:function(t,e){t.assignProfileModal=l.assignProfileModal},assignProfile:function(t,e){e.payload;t.assignProfileModal.loading=!0,t.loading=!0},assignProfileSuccess:function(t,e){e.payload;t.assignProfileModal=l.assignProfileModal},assignProfileFailure:function(t,e){var r=e.payload;t.assignProfileModal.loading=!1,t.assignProfileModal.error=r,t.loading=!1},unassignProfile:function(t,e){e.payload},startUnassignProfiles:function(t,e){e.payload;t.loading=!0},unassignProfileSuccess:function(t,e){e.payload;t.assignProfileModal=l.assignProfileModal,t.loading=!1},unassignProfileFailure:function(t,e){e.payload;t.loading=!1},setSettings:function(t,e){e.payload;t.settingsModal.loading=!0},setSettingsSuccess:function(t,e){e.payload;t.settingsModal=l.settingsModal},setSettingsFailure:function(t,e){var r=e.payload;t.settingsModal.loading=!1,t.settingsModal.error=r},openSettingsModal:function(t,e){var r=e.payload;t.settingsModal.open=r,r||(t.settingsModal=l.settingsModal)},updateProductsAndVariantsStatusBulk:function(t,e){var r=e.payload,n=r.products,a=r.variants,i=r.enabled;Object(c.d)(t),n.forEach((function(e){t.productsById[e.id].enabled=i})),a.forEach((function(e){t.variantsById[e.id].enabled=i}))},fetchProducts:p,fetchProductsWithQuery:p,fetchProductsWithQueryStart:p,fetchProductSettings:function(t,e){e.payload;t.settingsModal.loading=!0}},extraReducers:function(t){t.addCase(u.k,(function(t,e){t.settingsModal.open=!0})).addCase(u.q,(function(t,e){t.settingsModal.open=!1}))}}),b=g.actions,_=(b.getProductsStart,b.getProductsSuccess),v=b.getProductsFailure,j=b.selectProducts,O=(b.setFilter,b.fetchProducts),h=b.fetchProductsWithQueryStart,m=b.fetchProductsWithQuery,y=b.setPage,P=b.setSort,S=b.setUnfolded,I=b.selectVariants,E=b.setStatus,M=b.setSettings,x=b.openSettingsModal,k=b.updateProductsAndVariantsStatusBulk,T=b.fetchProductSettings,A=b.getProductSettingsSuccess,D=b.getProductSettingsFailure,N=b.setSettingsSuccess,w=b.setSettingsFailure,F=b.bulkEnable,C=b.bulkEnableSuccess,z=b.bulkEnableFailure,X=b.openAssignProfileModal,Z=b.closeAssignProfileModal,B=b.assignProfile,L=b.assignProfileSuccess,J=b.assignProfileFailure,Y=b.unassignProfile,H=b.unassignProfileSuccess,R=b.unassignProfileFailure,V=b.startUnassignProfiles,U=b.startLoading;e.h=g.reducer},76:function(t,e,r){"use strict";r.d(e,"e",(function(){return o})),r.d(e,"g",(function(){return c})),r.d(e,"f",(function(){return d})),r.d(e,"b",(function(){return u})),r.d(e,"d",(function(){return s})),r.d(e,"c",(function(){return l}));var n=r(38),a=Object(n.b)({name:"subscription",initialState:{loading:!1,error:null,subscription:{items:[],active:null}},reducers:{getSubscription:function(t){t.loading=!0},getSubscriptionSuccess:function(t,e){var r=e.payload;t.subscription.items=r,t.loading=!1},getSubscriptionFailure:function(t,e){var r=e.payload;t.loading=!1,t.error=r||null},getActiveSubscription:function(t){t.loading=!0},getActiveSubscriptionSuccess:function(t,e){var r=e.payload;t.subscription.active=r,t.loading=!1},getActiveSubscriptionFailure:function(t,e){var r=e.payload;t.loading=!1,t.error=r||null}},extraReducers:function(){}}),i=a.actions,o=i.getSubscription,c=i.getSubscriptionSuccess,d=i.getSubscriptionFailure,u=i.getActiveSubscription,s=i.getActiveSubscriptionSuccess,l=i.getActiveSubscriptionFailure;e.a=a.reducer},87:function(t,e,r){"use strict";r.d(e,"b",(function(){return g})),r.d(e,"a",(function(){return f})),r.d(e,"c",(function(){return b}));var n=r(88),a=r(12),i=r(9),o=r(0),c=r.n(o),d=r(182),u={locale:"en",messages:{}};!function(t){var e={};for(var r in t)!function(t,r){Object.defineProperty(e,t,{get:function(){return t}})}(r)}(u.messages);var s=r(200),l=r(201),p=r.n(l);u.messages=p()(s);var f=c.a.createContext({config:u,setLocale:function(t){}}),g=function(t){var e=Object(o.useState)(u),r=Object(i.a)(e,2),n={config:r[0],setLocale:r[1]};return c.a.createElement(f.Provider,Object.assign({value:n},t))};function b(){var t=Object(d.a)(),e=t.formatMessage,r=t.formatDate,i=Object(o.useCallback)((function(t){return function(t,e){return Object.keys(t).reduce((function(r,i){return Object(a.a)(Object(n.a)({},i,e(t[i])),r)}),{})}(t,e)}),[e]);return Object(o.useMemo)((function(){return{fmt:e,formatDictionary:i,formatMessage:e,formatDate:r}}),[e,i,r])}}},[[218,4,5]],[0,6,1,7,2,9,10]]);
//# sourceMappingURL=main.4e5b45ea.chunk.js.map